<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

        #countdown_box {
          position: center;
          text-align: center;
          background-color: lightgrey;
          width: 800px;
          border: 11px solid gray;
          padding: 50px;
          margin: 20px;
          color: #000000;
        }

        #countdown {
          text-align: center;
          font-size: 40px;
          margin-top: 0px;
        }

        .playclass {
          visibility: : visible;
        }

    </style>

</head>

<h1> Registration Shown Below: <h1>
  <h3> Game: <%=@reg.game.title %></h3>
  <h3> Game Start: <%= @reg.game.datetime_of_start %></h3>
  <h3> Location: <%= @reg.game.location %> </h3>
  <h3> Timezone: <%= @reg.game.timezone %> </h3>
  <h3> Status: <%= @reg.game.match_status %> </h3>
  <h3> Stakes: <%= @reg.contest.stakes %> </h3>


  <h1> The Game Will Appear Below When It Begins! </h1>
    <h2> Number of People Registered: <%= @contest.regs.count %> </h2>
    <h2> This game will start on: <%= @reg.game.datetime_of_start%> </h2>


  <div id="countdown_box" >
    <h2 style="float: center; font-size:46px;"> &nbsp;&nbsp;&nbsp;Countdown: </h2>
    <p id="countdown"> </p>

    <%= form_tag action='/question_start' do |f| %>
        <%= hidden_field_tag :reg_id, @reg.id %>
        <%= submit_tag "Play Now" %>
    <% end %>

    <script>
    // Set the date we're counting down to:
    var countDownDate = new Date("Aug 3, 2020 15:37:25").getTime();
    //var countDownDate = new Date('<%= @reg.game.datetime_of_start %>').getTime();

    // Update the count down every 1 second
    var x = setInterval(function() {

      // Get today's date and time
      var now = new Date().getTime();

      // Find the distance between now and the count down date
      var distance = countDownDate - now;

      // Time calculations for days, hours, minutes and seconds
      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

      // Output the result in an element with id="demo"
      document.getElementById("countdown").innerHTML = days + "d " + hours + "h "
      + minutes + "m " + seconds + "s ";

      // If the count down is over, write some text
      if (distance < 0) {
        clearInterval(x);
        document.getElementById("countdown").innerHTML = "It's Time to Play! Click Below:";
        document.getElementsByName("playbutton")[0].style.visibility = "visible";
      }
    }, 1000);

    </script>



  </div>
